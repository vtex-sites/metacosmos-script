import{S as Y,i as j,e as D,f as X,g as w,k as x,D as ie,l as P,F as U,v as L,H as V,I as S,J as pe,K as Re,a7 as Q,O as le,E,V as Ae,G as Te,L as fe,T as Z,u as C,U as $,r as k,ad as he,M as ve,P as ge,Q as xe,R as we,ba as Be,bb as Ue,bc as Me,y as I,bd as Ie,b8 as Ge,z as be,b9 as Ne,a3 as ee,j as G,n as N,w as O,h as A,t as T,m as p,o as _e,q as B,a5 as ze,be as ke,af as ye,bf as Oe,X as Ye,bg as se,bh as je,bi as De,bj as ae,bk as Se,bl as Xe,bm as re,bn as We,bo as Je}from"./app.js";import{f as K}from"./index.befe4af7.js";import{m as Ve}from"./checkmark-md.6daac746.js";const Ee=""+new URL("checkmark-lg.afb796e2.svg",import.meta.url).href,qe=""+new URL("checkmark-sm.37c31f2f.svg",import.meta.url).href,He=""+new URL("checkmark-xs.c0726a05.svg",import.meta.url).href;function Ke(i){X(i,"svelte-vamtxi","i.svelte-vamtxi{--tw-bg-opacity:1;background-color:rgb(220 220 221/var(--tw-bg-opacity));background-image:var(--icon-sm);background-position:50%;background-repeat:no-repeat;border-radius:9999px;display:inline-block;height:28px;transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);width:28px}@media(min-width:768px){i.svelte-vamtxi{background-image:var(--icon-md);height:32px;width:32px}}@media(min-width:1024px){i.svelte-vamtxi{background-image:var(--icon-lg);height:42px;width:42px}}.xs.svelte-vamtxi{background-image:var(--icon-xs);height:20px;width:20px}.lg.svelte-vamtxi{background-image:var(--icon-lg);height:42px;width:42px}.active.svelte-vamtxi{--tw-bg-opacity:1;background-color:rgb(76 204 117/var(--tw-bg-opacity))}")}function Qe(i){let t,n;return{c(){t=w("i"),x(t,"class",n=ie(i[1])+" svelte-vamtxi")},m(e,l){P(e,t,l),i[4](t)},p(e,[l]){l&2&&n!==(n=ie(e[1])+" svelte-vamtxi")&&x(t,"class",n)},i:U,o:U,d(e){e&&L(t),i[4](null)}}}function Ze(i,t,n){let e;const l=["active","size"];let r=V(t,l),{active:a=!1}=t,{size:o="auto"}=t,s;function c(d){Q[d?"unshift":"push"](()=>{s=d,n(0,s)})}return i.$$set=d=>{t=S(S({},t),pe(d)),n(5,r=V(t,l)),"active"in d&&n(2,a=d.active),"size"in d&&n(3,o=d.size)},i.$$.update=()=>{n(1,e=Re("tint-checkmark",r.class,o,a&&"active")),i.$$.dirty&1&&s&&(s.style.setProperty("--icon-xs",`url("${He}")`),s.style.setProperty("--icon-sm",`url("${qe}")`),s.style.setProperty("--icon-md",`url("${Ve}")`),s.style.setProperty("--icon-lg",`url("${Ee}")`))},[s,e,a,o,c]}class $e extends Y{constructor(t){super(),j(this,t,Ze,Qe,D,{active:2,size:3},Ke)}}function et(i){X(i,"svelte-ie6oi4",'.tint-progress.svelte-ie6oi4{border-radius:4px;display:inline-flex;gap:4px;height:8px;width:100%}@media(min-width:1024px){.tint-progress.svelte-ie6oi4{gap:8px}}.chunk.svelte-ie6oi4{background-color:rgb(220 220 221/var(--tw-bg-opacity));position:relative;width:100%}.chunk.svelte-ie6oi4,.chunk.svelte-ie6oi4:after{--tw-bg-opacity:1;border-radius:inherit;height:100%}.chunk.svelte-ie6oi4:after{--tw-content:"";background-color:rgb(76 204 117/var(--tw-bg-opacity));content:var(--tw-content);left:0;position:absolute;top:0;transition-duration:.15s;transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);width:calc(var(--value)*1%)}')}function oe(i,t,n){const e=i.slice();e[4]=t[n],e[8]=n;const l=e[0]/e[2];e[5]=l;const r=nt((e[1]-e[8]*e[5])/e[5]*100,0,e[0]);return e[6]=r,e}function ce(i){let t,n;return{c(){t=w("div"),x(t,"class","chunk svelte-ie6oi4"),x(t,"style",n=`--value: ${i[6]}`)},m(e,l){P(e,t,l)},p(e,l){l&7&&n!==(n=`--value: ${e[6]}`)&&x(t,"style",n)},d(e){e&&L(t)}}}function tt(i){let t,n=new Array(i[2]),e=[];for(let a=0;a<n.length;a+=1)e[a]=ce(oe(i,n,a));let l=[{class:"tint-progress"},{role:"progressbar"},{"aria-valuemax":i[0]},{"aria-valuenow":i[1]},i[3]],r={};for(let a=0;a<l.length;a+=1)r=S(r,l[a]);return{c(){t=w("div");for(let a=0;a<e.length;a+=1)e[a].c();le(t,r),E(t,"svelte-ie6oi4",!0)},m(a,o){P(a,t,o);for(let s=0;s<e.length;s+=1)e[s].m(t,null)},p(a,[o]){if(o&7){n=new Array(a[2]);let s;for(s=0;s<n.length;s+=1){const c=oe(a,n,s);e[s]?e[s].p(c,o):(e[s]=ce(c),e[s].c(),e[s].m(t,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}le(t,r=Ae(l,[{class:"tint-progress"},{role:"progressbar"},o&1&&{"aria-valuemax":a[0]},o&2&&{"aria-valuenow":a[1]},o&8&&a[3]])),E(t,"svelte-ie6oi4",!0)},i:U,o:U,d(a){a&&L(t),Te(e,a)}}}const nt=(i,t,n)=>Math.min(Math.max(t,i),n);function it(i,t,n){const e=["max","value","chunks"];let l=V(t,e),{max:r=100}=t,{value:a=r/2}=t,{chunks:o=1}=t;return i.$$set=s=>{t=S(S({},t),pe(s)),n(3,l=V(t,e)),"max"in s&&n(0,r=s.max),"value"in s&&n(1,a=s.value),"chunks"in s&&n(2,o=s.chunks)},[r,a,o,l]}class lt extends Y{constructor(t){super(),j(this,t,it,tt,D,{max:0,value:1,chunks:2},et)}}function st(i){let t;const n=i[3].default,e=ve(n,i,i[2],null);return{c(){e&&e.c()},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&4)&&ge(e,n,l,l[2],t?we(n,l[2],r,null):xe(l[2]),null)},i(l){t||(k(e,l),t=!0)},o(l){C(e,l),t=!1},d(l){e&&e.d(l)}}}function at(i){let t,n,e=i[1]&&me(i);return{c(){e&&e.c(),t=fe()},m(l,r){e&&e.m(l,r),P(l,t,r),n=!0},p(l,r){l[1]?e?(e.p(l,r),r&2&&k(e,1)):(e=me(l),e.c(),k(e,1),e.m(t.parentNode,t)):e&&(Z(),C(e,1,1,()=>{e=null}),$())},i(l){n||(k(e),n=!0)},o(l){C(e),n=!1},d(l){e&&e.d(l),l&&L(t)}}}function me(i){let t;const n=i[3].default,e=ve(n,i,i[2],null);return{c(){e&&e.c()},m(l,r){e&&e.m(l,r),t=!0},p(l,r){e&&e.p&&(!t||r&4)&&ge(e,n,l,l[2],t?we(n,l[2],r,null):xe(l[2]),null)},i(l){t||(k(e,l),t=!0)},o(l){C(e,l),t=!1},d(l){e&&e.d(l)}}}function rt(i){let t,n,e,l;const r=[at,st],a=[];function o(s,c){return s[0]?0:1}return t=o(i),n=a[t]=r[t](i),{c(){n.c(),e=fe()},m(s,c){a[t].m(s,c),P(s,e,c),l=!0},p(s,[c]){let d=t;t=o(s),t===d?a[t].p(s,c):(Z(),C(a[d],1,1,()=>{a[d]=null}),$(),n=a[t],n?n.p(s,c):(n=a[t]=r[t](s),n.c()),k(n,1),n.m(e.parentNode,e))},i(s){l||(k(n),l=!0)},o(s){C(n),l=!1},d(s){a[t].d(s),s&&L(e)}}}function ot(i,t,n){let{$$slots:e={},$$scope:l}=t,{intro:r=!1}=t,a=!1;return he(()=>n(1,a=!0)),i.$$set=o=>{"intro"in o&&n(0,r=o.intro),"$$scope"in o&&n(2,l=o.$$scope)},[r,a,l,e]}class ct extends Y{constructor(t){super(),j(this,t,ot,rt,D,{intro:0})}}const de=async i=>(await new Promise((n,e)=>{const l=new FileReader;l.onload=()=>n(l.result),l.onerror=r=>e(r),l.readAsDataURL(i)})).replace(/^data:.*?,/,"");var Ce=(i=>(i[i.SPRING=0]="SPRING",i[i.SUMMER=1]="SUMMER",i[i.AUTUMN=2]="AUTUMN",i[i.WINTER=3]="WINTER",i))(Ce||{});const mt="https://dev-tintvto.sdk.banuba.net/rnd-beauty/v1/bb-cc-recommender-v2",Tt=async(i,t=()=>{})=>{const[n,e,l]=await Promise.all([fetch("https://dev-tintvto.sdk.banuba.net/rnd-beauty/v1/",{method:"POST",body:JSON.stringify({isBase64Encoded:!0,body:await de(i)})}).then(s=>s.json()),Be(()=>import("./seasons.b7ab0a74.js"),["./seasons.b7ab0a74.js","./app.js"],import.meta.url).then(s=>s.default),fetch(mt,{method:"POST",body:JSON.stringify({isBase64Encoded:!0,body:await de(i)})}).then(s=>s.json()),dt(t)]),r=n.indexOf(Math.max(...n)),a=Ce[r],o=e[a];return{season:a,...o,creamRanges:l}},dt=async(i=()=>{})=>{const t=Me(3800,4800),n={[0]:t*.25,[1]:t*.19,[2]:t*.22,[3]:t*.34};let e=0;for(const[l,r]of Object.entries(n)){const a=100/Object.keys(n).length;i({percent:e,step:+l}),await Fe(300);for await(const o of ut(a,r))i({percent:++e,step:+l})}},Fe=i=>new Promise(t=>Ue.setTimeout(t,i));async function*ut(i,t){const n=t/i;for(;i-- >0;)yield await Fe(n)}function pt(i){X(i,"svelte-txzxnl","section.svelte-txzxnl.svelte-txzxnl{height:100%;position:relative;width:100%}@media(min-width:1280px){section.svelte-txzxnl.svelte-txzxnl{border-radius:12px;max-height:776px;max-width:1200px}}section.svelte-txzxnl>*{--tw-translate-x:-50%;--tw-translate-y:-50%;left:50%;position:absolute;top:50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}article.svelte-txzxnl.svelte-txzxnl{flex-direction:column;flex-shrink:0;position:relative}article.svelte-txzxnl.svelte-txzxnl,article.svelte-txzxnl>p.svelte-txzxnl{align-items:center;display:flex}article.svelte-txzxnl>p.svelte-txzxnl{text-align:center}h2.svelte-txzxnl.svelte-txzxnl{--tw-translate-y:-100%;align-items:center;display:flex;flex-direction:column;font-size:20px;gap:16px;line-height:28px;position:absolute;top:-8px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media(min-width:768px){h2.svelte-txzxnl.svelte-txzxnl{font-size:24px;gap:20px;line-height:32px}}div.svelte-txzxnl.svelte-txzxnl{flex-shrink:0;gap:28px;text-align:center}div.svelte-txzxnl.svelte-txzxnl,label.svelte-txzxnl.svelte-txzxnl{display:flex;flex-direction:column}label.svelte-txzxnl.svelte-txzxnl{font-size:20px;font-weight:700;gap:12px;line-height:28px}@media(min-width:768px){label.svelte-txzxnl.svelte-txzxnl{font-size:24px;gap:16px;line-height:32px}}label.svelte-txzxnl.svelte-txzxnl{width:310px}@media(min-width:768px){label.svelte-txzxnl.svelte-txzxnl{width:336px}}@media(min-width:1024px){label.svelte-txzxnl.svelte-txzxnl{width:760px}}label.svelte-txzxnl+p.svelte-txzxnl{display:flex;font-size:16px;justify-content:center;line-height:24px}label.svelte-txzxnl+p.svelte-txzxnl>:first-child{--tw-text-opacity:1;color:rgb(76 204 117/var(--tw-text-opacity));margin-right:4px;transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}label.svelte-txzxnl+p.svelte-txzxnl:not(.completed)>:first-child{opacity:0;transition-property:none}label.svelte-txzxnl+p.svelte-txzxnl path{stroke:currentColor}")}function ft(i){let t,n;return t=new ct({props:{intro:i[0],$$slots:{default:[vt]},$$scope:{ctx:i}}}),{c(){G(t.$$.fragment)},m(e,l){N(t,e,l),n=!0},p(e,l){const r={};l&1&&(r.intro=e[0]),l&16502&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(k(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function ht(i){let t,n,e,l,r,a,o=i[5].personalizedProductRecommendationsAreReady+"",s,c,d,f,b;e=new $e({props:{size:"lg",active:!0}});function _(u,m){return u[1]?xt:gt}let z=_(i),v=z(i);return{c(){t=w("article"),n=w("h2"),G(e.$$.fragment),l=A(),v.c(),r=A(),a=w("p"),s=T(o),x(n,"class","svelte-txzxnl"),x(a,"class","svelte-txzxnl"),x(t,"class","svelte-txzxnl")},m(u,m){P(u,t,m),p(t,n),N(e,n,null),p(n,l),v.m(n,null),p(t,r),p(t,a),p(a,s),d=!0,f||(b=_e(t,"introend",i[12]),f=!0)},p(u,m){z===(z=_(u))&&v?v.p(u,m):(v.d(1),v=z(u),v&&(v.c(),v.m(n,null))),(!d||m&32)&&o!==(o=u[5].personalizedProductRecommendationsAreReady+"")&&B(s,o)},i(u){d||(k(e.$$.fragment,u),u&&(c||ze(()=>{c=ke(t,K,{delay:400,duration:800}),c.start()})),d=!0)},o(u){C(e.$$.fragment,u),d=!1},d(u){u&&L(t),O(e),v.d(),f=!1,b()}}}function vt(i){let t,n,e,l=`${i[1]?"Gift selection":i[5].analyzing} ${i[6]}%`,r,a,o,s,c,d,f,b,_,z,v,u;return o=new lt({props:{value:i[6],chunks:i[7].length}}),d=new ye({props:{src:Ee}}),{c(){t=w("div"),n=w("label"),e=w("span"),r=T(l),a=A(),G(o.$$.fragment),s=A(),c=w("p"),G(d.$$.fragment),f=A(),b=T(i[4]),_=T("..."),x(n,"class","svelte-txzxnl"),x(c,"class","svelte-txzxnl"),E(c,"completed",i[2]),x(t,"class","svelte-txzxnl")},m(m,h){P(m,t,h),p(t,n),p(n,e),p(e,r),p(n,a),N(o,n,null),p(t,s),p(t,c),N(d,c,null),p(c,f),p(c,b),p(c,_),u=!0},p(m,h){(!u||h&98)&&l!==(l=`${m[1]?"Gift selection":m[5].analyzing} ${m[6]}%`)&&B(r,l);const M={};h&64&&(M.value=m[6]),o.$set(M),(!u||h&16)&&B(b,m[4]),(!u||h&4)&&E(c,"completed",m[2])},i(m){u||(k(o.$$.fragment,m),k(d.$$.fragment,m),m&&ze(()=>{v&&v.end(1),z=ke(t,K,{delay:100,duration:600}),z.start()}),u=!0)},o(m){C(o.$$.fragment,m),C(d.$$.fragment,m),z&&z.invalidate(),v=Oe(t,K,{duration:150}),u=!1},d(m){m&&L(t),O(o),O(d),m&&v&&v.end()}}}function gt(i){let t=i[5].analysisFinished+"",n;return{c(){n=T(t)},m(e,l){P(e,n,l)},p(e,l){l&32&&t!==(t=e[5].analysisFinished+"")&&B(n,t)},d(e){e&&L(n)}}}function xt(i){let t;return{c(){t=T("Gift selection finished.")},m(n,e){P(n,t,e)},p:U,d(n){n&&L(t)}}}function wt(i){let t,n,e,l;const r=[ht,ft],a=[];function o(s,c){return s[3]?0:1}return n=o(i),e=a[n]=r[n](i),{c(){t=w("section"),e.c(),x(t,"class","tint-face-analysis svelte-txzxnl")},m(s,c){P(s,t,c),a[n].m(t,null),l=!0},p(s,[c]){let d=n;n=o(s),n===d?a[n].p(s,c):(Z(),C(a[d],1,1,()=>{a[d]=null}),$(),e=a[n],e?e.p(s,c):(e=a[n]=r[n](s),e.c()),k(e,1),e.m(t,null))},i(s){l||(k(e),l=!0)},o(s){C(e),l=!1},d(s){s&&L(t),a[n].d()}}}function bt(i,t,n){let e,l,r,a,o,s;I(i,Ie,m=>n(10,r=m)),I(i,Ge,m=>n(11,a=m)),I(i,be,m=>n(5,o=m)),I(i,Ne,m=>n(6,s=m));const c=[o.skinType,o.skinTone,o.colorType,o.facialFeatures];let{intro:d=!1}=t,{isGift:f=!1}=t;const b=ee();let _=a,z=r;const v=()=>n(9,_=a),u=()=>setTimeout(()=>b("ended"),600);return i.$$set=m=>{"intro"in m&&n(0,d=m.intro),"isGift"in m&&n(1,f=m.isGift)},i.$$.update=()=>{i.$$.dirty&512&&n(4,e=c[_]),i.$$.dirty&3584&&n(2,l=_<a||r),i.$$.dirty&4&&l&&setTimeout(v,600),i.$$.dirty&1024&&r&&setTimeout(()=>n(3,z=!0),600)},[d,f,l,z,e,o,s,c,b,_,r,a,u]}class Bt extends Y{constructor(t){super(),j(this,t,bt,wt,D,{intro:0,isGift:1},pt)}}function _t(i){X(i,"svelte-17mzo45","div.svelte-17mzo45,div.svelte-17mzo45>canvas{height:100%;width:100%}")}function zt(i){let t;return{c(){t=w("div"),x(t,"class","svelte-17mzo45")},m(n,e){P(n,t,e),i[4](t)},p:U,i:U,o:U,d(n){n&&L(t),i[4](null)}}}function kt(i,t,n){let e;I(i,Ye,f=>n(3,e=f));const l=ee(),r=()=>ae().then(f=>f.takePhoto());let a,o=!1;const s=f=>l("hasFace",f),c=f=>l("hasLight",f);he(()=>{se("face",s),se("lightning",c),je().then(()=>n(2,o=!0))}),De(()=>{Xe(a),re("face",s),re("lightning",c)});function d(f){Q[f?"unshift":"push"](()=>{a=f,n(0,a)})}return i.$$.update=()=>{i.$$.dirty&12&&e&&e.type==="webcam"&&o&&ae(),i.$$.dirty&5&&o&&Se(a)},[a,r,o,e,d]}class yt extends Y{constructor(t){super(),j(this,t,kt,zt,D,{takePhoto:1},_t)}get takePhoto(){return this.$$.ctx[1]}}function Et(i){X(i,"svelte-1mtlzmn",`section.svelte-1mtlzmn{display:flex;flex-direction:column;height:100%;width:100%}@media(min-width:1024px){section.svelte-1mtlzmn{flex-direction:row}}@media(min-width:1280px){section.svelte-1mtlzmn{border-radius:12px;max-height:776px;max-width:1200px}}dialog.svelte-1mtlzmn{--tw-bg-opacity:1;--tw-text-opacity:1;align-items:center;background-color:rgb(249 183 74/var(--tw-bg-opacity));border-radius:8px;bottom:4px;color:rgb(56 56 60/var(--tw-text-opacity));display:flex;font-size:14px;gap:4px;height:32px;justify-content:center;line-height:20px;width:224px;z-index:10}@media(min-width:1024px){dialog.svelte-1mtlzmn{bottom:20px;height:56px}}dialog.hasLight.svelte-1mtlzmn,dialog.svelte-1mtlzmn:not(.hasFace){display:none}section.svelte-1mtlzmn{position:relative}section.svelte-1mtlzmn:after{--tw-bg-opacity:1;--tw-content:"";background-color:rgb(255 255 255/var(--tw-bg-opacity));content:var(--tw-content);height:100%;left:0;pointer-events:none;position:absolute;top:0;transition-delay:.7s;transition-duration:.2s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);width:100%;z-index:10}section.svelte-1mtlzmn:not(.flash):after{opacity:0}div.svelte-1mtlzmn{--tw-bg-opacity:1;background-color:rgb(244 244 244/var(--tw-bg-opacity));display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;position:relative;width:100%}@media(min-width:768px){div.svelte-1mtlzmn{flex-grow:0;padding-bottom:75%}}@media(min-width:1024px){div.svelte-1mtlzmn{padding-bottom:0;width:41.99219%}}@media(min-width:1280px){div.svelte-1mtlzmn{width:47.33333%}}@media(min-width:1024px){div.svelte-1mtlzmn{margin:24px 24px 24px 0;order:2}}@media(min-width:1280px){div.svelte-1mtlzmn{margin:32px 32px 32px 0}}div.svelte-1mtlzmn>:first-child{height:100%;left:0;position:absolute;top:0;width:100%}@media(min-width:1024px){div.svelte-1mtlzmn>:first-child{flex-grow:1;height:100%;position:relative}}div.svelte-1mtlzmn:after{--tw-content:"";background-color:#0006;background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-30 -40 373 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='154.5' cy='218.5' rx='154.5' ry='218.5' stroke='%23FFF' stroke-width='5' fill-rule='evenodd'/%3E%3C/svg%3E") 50% /contain no-repeat,#0006;content:var(--tw-content);height:100%;left:0;-webkit-mask:linear-gradient(#000,#000),url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-30 -40 373 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='154.5' cy='218.5' rx='154.5' ry='218.5' fill-rule='evenodd'/%3E%3C/svg%3E") center /contain no-repeat;mask:linear-gradient(#000,#000),url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-30 -40 373 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='154.5' cy='218.5' rx='154.5' ry='218.5' fill-rule='evenodd'/%3E%3C/svg%3E") center /contain no-repeat;-webkit-mask-composite:xor;mask-composite:exclude;position:absolute;top:0;width:100%}@media(min-width:768px){div.svelte-1mtlzmn:after{background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-60 -60 575 645' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='227.5' cy='262.5' rx='227.5' ry='262.5' stroke='%23FFF' stroke-width='5' fill-rule='evenodd'/%3E%3C/svg%3E") 50% /contain no-repeat,#0006;-webkit-mask:linear-gradient(#000,#000),url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-60 -60 575 645'%3E%%3Cellipse cx='227.5' cy='262.5' rx='227.5' ry='262.5' fill='%23fff'/%3E%3C/svg%3E%0A") center /contain no-repeat;mask:linear-gradient(#000,#000),url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-60 -60 575 645'%3E%%3Cellipse cx='227.5' cy='262.5' rx='227.5' ry='262.5' fill='%23fff'/%3E%3C/svg%3E%0A") center /contain no-repeat;-webkit-mask-composite:xor;mask-composite:exclude}}div.hasFace.svelte-1mtlzmn:after{background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-30 -40 373 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='154.5' cy='218.5' rx='154.5' ry='218.5' stroke='%23fb4' stroke-width='5' fill-rule='evenodd'/%3E%3C/svg%3E") 50% /contain no-repeat,#0006}@media(min-width:768px){div.hasFace.svelte-1mtlzmn:after{background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-60 -60 575 645' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='227.5' cy='262.5' rx='227.5' ry='262.5' stroke='%23fb4' stroke-width='5' fill-rule='evenodd'/%3E%3C/svg%3E") 50% /contain no-repeat,#0006}}div.hasFace.hasLight.svelte-1mtlzmn:after{background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-30 -40 373 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='154.5' cy='218.5' rx='154.5' ry='218.5' stroke='%231ea' stroke-width='5' fill-rule='evenodd'/%3E%3C/svg%3E") 50% /contain no-repeat,#0006}@media(min-width:768px){div.hasFace.hasLight.svelte-1mtlzmn:after{background:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='-60 -60 575 645' xmlns='http://www.w3.org/2000/svg'%3E%3Cellipse cx='227.5' cy='262.5' rx='227.5' ry='262.5' stroke='%231ea' stroke-width='5' fill-rule='evenodd'/%3E%3C/svg%3E") 50% /contain no-repeat,#0006}}div.svelte-1mtlzmn{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity));font-size:16px;font-weight:700;line-height:24px}span.svelte-1mtlzmn{width:max-content}.countdown.svelte-1mtlzmn{font-size:54px;left:40px;line-height:1.22;position:absolute;text-shadow:0 3px 8px #00000080;z-index:10}@media(min-width:768px){.countdown.svelte-1mtlzmn{left:120px}}@media(min-width:1024px){.countdown.svelte-1mtlzmn{font-size:84px;left:40px;line-height:1.38}}.hint.svelte-1mtlzmn{--tw-translate-x:-50%;left:50%;position:absolute;top:12px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));z-index:10}@media(min-width:1024px){.hint.svelte-1mtlzmn{font-size:24px;line-height:32px}}article.svelte-1mtlzmn{display:flex;flex-direction:column;gap:16px;margin-left:auto;margin-right:auto;padding:28px 40px}@media(min-width:768px){article.svelte-1mtlzmn{flex-grow:1;gap:20px;max-width:534px;padding-bottom:40px;padding-top:40px}}@media(min-width:1024px){article.svelte-1mtlzmn{margin-top:200px;max-width:470px;padding-right:10px}}h2.svelte-1mtlzmn{font-size:20px;line-height:28px}@media(min-width:768px){h2.svelte-1mtlzmn{font-size:24px;line-height:32px}}p.svelte-1mtlzmn{font-size:14px;line-height:20px}@media(min-width:768px){p.svelte-1mtlzmn{font-size:16px;line-height:24px}}`)}function ue(i){let t,n;return{c(){t=w("span"),n=T(i[7]),x(t,"class","countdown svelte-1mtlzmn")},m(e,l){P(e,t,l),p(t,n)},p(e,l){l&128&&B(n,e[7])},d(e){e&&L(t)}}}function Ct(i){let t,n,e,l,r,a,o,s,c,d,f,b,_=i[3].notEnoughLight+"",z,v,u,m,h=i[3].faceAnalysis+"",M,te,W,J=i[3].weWillAnalyzeYourFaceAndSuggestPersonalizedProducts+"",q,F,H,ne,Pe={};e=new yt({props:Pe}),i[8](e),e.$on("hasFace",i[9]),e.$on("hasLight",i[10]);let y=i[4]&&ue(i);return d=new ye({props:{variant:"info-circle"}}),{c(){t=w("section"),n=w("div"),G(e.$$.fragment),l=A(),y&&y.c(),r=A(),a=w("span"),o=T(i[5]),s=A(),c=w("dialog"),G(d.$$.fragment),f=A(),b=w("p"),z=T(_),v=A(),u=w("article"),m=w("h2"),M=T(h),te=A(),W=w("p"),q=T(J),x(a,"class","hint svelte-1mtlzmn"),x(b,"class","svelte-1mtlzmn"),x(c,"class","svelte-1mtlzmn"),E(c,"hasLight",i[6]),E(c,"hasFace",i[2]),x(n,"class","viewer svelte-1mtlzmn"),E(n,"hasLight",i[6]),E(n,"hasFace",i[2]),x(m,"class","svelte-1mtlzmn"),x(W,"class","svelte-1mtlzmn"),x(u,"class","svelte-1mtlzmn"),x(t,"class","tint-face-analysis svelte-1mtlzmn"),E(t,"flash",i[4]&&i[7]===0)},m(g,R){P(g,t,R),p(t,n),N(e,n,null),p(n,l),y&&y.m(n,null),p(n,r),p(n,a),p(a,o),p(n,s),p(n,c),N(d,c,null),p(c,f),p(c,b),p(b,z),p(t,v),p(t,u),p(u,m),p(m,M),p(u,te),p(u,W),p(W,q),F=!0,H||(ne=_e(t,"transitionend",i[11]),H=!0)},p(g,[R]){const Le={};e.$set(Le),g[4]?y?y.p(g,R):(y=ue(g),y.c(),y.m(n,r)):y&&(y.d(1),y=null),(!F||R&32)&&B(o,g[5]),(!F||R&8)&&_!==(_=g[3].notEnoughLight+"")&&B(z,_),(!F||R&64)&&E(c,"hasLight",g[6]),(!F||R&4)&&E(c,"hasFace",g[2]),(!F||R&64)&&E(n,"hasLight",g[6]),(!F||R&4)&&E(n,"hasFace",g[2]),(!F||R&8)&&h!==(h=g[3].faceAnalysis+"")&&B(M,h),(!F||R&8)&&J!==(J=g[3].weWillAnalyzeYourFaceAndSuggestPersonalizedProducts+"")&&B(q,J),(!F||R&144)&&E(t,"flash",g[4]&&g[7]===0)},i(g){F||(k(e.$$.fragment,g),k(d.$$.fragment,g),F=!0)},o(g){C(e.$$.fragment,g),C(d.$$.fragment,g),F=!1},d(g){g&&L(t),i[8](null),O(e),y&&y.d(),O(d),H=!1,ne()}}}const Ft=i=>Je(i,t=>{const n=setInterval(()=>{t(i-=1),i<=0&&clearInterval(n)},1e3);return()=>clearInterval(n)});function Pt(i,t,n){let e,l,r,a,o,s=U,c=()=>(s(),s=We(b,h=>n(7,o=h)),b);I(i,be,h=>n(3,a=h)),i.$$.on_destroy.push(()=>s());const d=ee();let f,b=null;c();let _=!1;function z(h){Q[h?"unshift":"push"](()=>{f=h,n(0,f)})}const v=({detail:h})=>n(2,e=h),u=({detail:h})=>n(6,l=h),m=()=>n(1,_=!0);return i.$$.update=()=>{i.$$.dirty&12&&n(5,r=e?a.pleaseDontMove:a.putYourFaceInTheFrame),i.$$.dirty&3&&_&&f.takePhoto().then(h=>d("photo",h)),i.$$.dirty&4&&c(e?n(4,b=Ft(3)):n(4,b=null))},n(2,e=!1),n(6,l=!1),[f,_,e,a,b,r,l,o,z,v,u,m]}class Ut extends Y{constructor(t){super(),j(this,t,Pt,Ct,D,{},Et)}}export{Bt as A,Ut as C,Tt as a};
//# sourceMappingURL=CameraFrameCapture.b6c23c51.js.map

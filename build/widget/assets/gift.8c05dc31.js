import{S as F,i as P,c as q,aa as y,g as d,I as Q,m as h,j,P as I,n as b,q as g,Q as M,t as w,o as N,v as m,bb as $,bc as C,aM as S,V as k,u as R,Z as V,y as A,_,ay as Z,$ as v}from"./realidade-aumentada-app.js";import{A as G,C as B,a as D}from"./CameraFrameCapture.20d1d1a4.js";import"./checkmark-md.6daac746.js";function E(s){let t,a,i;var n=s[1];function p(e){var r;return{props:{intro:((r=e[0])==null?void 0:r.type)==="webcam",isGift:!0}}}return n&&(t=y(n,p(s)),t.$on("photo",s[3]),t.$on("ended",s[4])),{c(){t&&d(t.$$.fragment),a=Q()},m(e,r){t&&h(t,e,r),j(e,a,r),i=!0},p(e,[r]){var u;const c={};if(r&1&&(c.intro=((u=e[0])==null?void 0:u.type)==="webcam"),n!==(n=e[1])){if(t){I();const f=t;b(f.$$.fragment,1,0,()=>{g(f,1)}),M()}n?(t=y(n,p(e)),t.$on("photo",e[3]),t.$on("ended",e[4]),d(t.$$.fragment),w(t.$$.fragment,1),h(t,a.parentNode,a)):t=null}else n&&t.$set(c)},i(e){i||(t&&w(t.$$.fragment,e),i=!0)},o(e){t&&b(t.$$.fragment,e),i=!1},d(e){e&&N(a),t&&g(t,e)}}}function H(s,t,a){let i,n,p,e;m(s,$,o=>a(5,i=o)),m(s,C,o=>a(6,n=o)),m(s,S,o=>a(7,p=o)),m(s,k,o=>a(0,e=o));const r=R();let c;const u=async o=>{V(!0),A.face_analysis_started(),_(S,p=await D(o,l=>{_(C,n=l.percent,n),_($,i=l.step,i)}),p),Z.resetQuiz(),A.face_analysis_finished()},f=({detail:o})=>e&&_(k,e.data=o,e),z=()=>r.push(v.GiftSelection);return s.$$.update=()=>{if(s.$$.dirty&1){e:{if(!e)break e;e.type==="photo"?a(1,c=G):e.type==="webcam"&&e.data?a(1,c=G):a(1,c=B)}}if(s.$$.dirty&1){e:{if(!e)break e;(e.type==="photo"||e.type==="webcam"&&e.data)&&u(e.data)}}},[e,c,r,f,z]}class J extends F{constructor(t){super(),P(this,t,H,E,q,{})}}const T=J;export{T as default};
//# sourceMappingURL=gift.8c05dc31.js.map

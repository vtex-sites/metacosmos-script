import{S as M,i as Q,c as j,aa as y,g as d,I as B,m as b,j as I,P as N,n as g,q as w,Q as R,t as C,o as V,v as m,bb as k,bc as S,aM as P,V as $,W,u as Z,y as A,_,ay as D,Z as E,$ as l}from"./app.js";import{A as z,C as G,a as H}from"./CameraFrameCapture.20d1d1a4.js";import"./checkmark-md.6daac746.js";function J(s){let t,a,c;var r=s[1];function p(e){var o;return{props:{intro:((o=e[0])==null?void 0:o.type)==="webcam"}}}return r&&(t=y(r,p(s)),t.$on("photo",s[4]),t.$on("ended",s[5])),{c(){t&&d(t.$$.fragment),a=B()},m(e,o){t&&b(t,e,o),I(e,a,o),c=!0},p(e,[o]){var i;const u={};if(o&1&&(u.intro=((i=e[0])==null?void 0:i.type)==="webcam"),r!==(r=e[1])){if(t){N();const f=t;g(f.$$.fragment,1,0,()=>{w(f,1)}),R()}r?(t=y(r,p(e)),t.$on("photo",e[4]),t.$on("ended",e[5]),d(t.$$.fragment),C(t.$$.fragment,1),b(t,a.parentNode,a)):t=null}else r&&t.$set(u)},i(e){c||(t&&C(t.$$.fragment,e),c=!0)},o(e){t&&g(t.$$.fragment,e),c=!1},d(e){e&&V(a),t&&w(t,e)}}}function K(s,t,a){let c,r,p,e,o;m(s,k,n=>a(6,c=n)),m(s,S,n=>a(7,r=n)),m(s,P,n=>a(8,p=n)),m(s,$,n=>a(0,e=n)),m(s,W,n=>a(2,o=n));const u=Z();let i;const f=async n=>{A.face_analysis_started(),_(P,p=await H(n,h=>{_(S,r=h.percent,r),_(k,c=h.step,c)}),p),D.resetQuiz(),A.face_analysis_finished(),E(!1)},F=({detail:n})=>e&&_($,e.data=n,e),q=()=>{o.current===l.SkinCare?u.push(l.SkinCare):u.push(l.BestMatch)};return s.$$.update=()=>{if(s.$$.dirty&1){e:{if(!e)break e;e.type==="photo"?a(1,i=z):e.type==="webcam"&&e.data?a(1,i=z):a(1,i=G)}}if(s.$$.dirty&1){e:{if(!e)break e;(e.type==="photo"||e.type==="webcam"&&e.data)&&f(e.data)}}},[e,i,o,u,F,q]}class L extends M{constructor(t){super(),Q(this,t,K,J,j,{})}}const X=L;export{X as default};
//# sourceMappingURL=index.54915828.js.map

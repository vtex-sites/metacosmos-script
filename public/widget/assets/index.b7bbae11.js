import{S as q,i as B,e as I,a8 as y,j as d,L,n as w,l as M,T as N,u as b,w as g,U as Q,r as C,v as R,y as m,b8 as k,b9 as S,aI as A,X as $,Y as T,A as U,C as P,a0 as _,au as X,$ as Y,a1 as l}from"./app.js";import{A as z,C as D,a as E}from"./CameraFrameCapture.b6c23c51.js";import"./index.befe4af7.js";import"./checkmark-md.6daac746.js";function G(a){let t,s,i;var r=a[1];function p(e){var o;return{props:{intro:((o=e[0])==null?void 0:o.type)==="webcam"}}}return r&&(t=y(r,p(a)),t.$on("photo",a[4]),t.$on("ended",a[5])),{c(){t&&d(t.$$.fragment),s=L()},m(e,o){t&&w(t,e,o),M(e,s,o),i=!0},p(e,[o]){var c;const u={};if(o&1&&(u.intro=((c=e[0])==null?void 0:c.type)==="webcam"),r!==(r=e[1])){if(t){N();const f=t;b(f.$$.fragment,1,0,()=>{g(f,1)}),Q()}r?(t=y(r,p(e)),t.$on("photo",e[4]),t.$on("ended",e[5]),d(t.$$.fragment),C(t.$$.fragment,1),w(t,s.parentNode,s)):t=null}else r&&t.$set(u)},i(e){i||(t&&C(t.$$.fragment,e),i=!0)},o(e){t&&b(t.$$.fragment,e),i=!1},d(e){e&&R(s),t&&g(t,e)}}}function H(a,t,s){let i,r,p,e,o;m(a,k,n=>s(6,i=n)),m(a,S,n=>s(7,r=n)),m(a,A,n=>s(8,p=n)),m(a,$,n=>s(0,e=n)),m(a,T,n=>s(2,o=n));const u=U();let c;const f=async n=>{P.face_analysis_started(),_(A,p=await E(n,h=>{_(S,r=h.percent,r),_(k,i=h.step,i)}),p),X.resetQuiz(),P.face_analysis_finished(),Y(!1)},F=({detail:n})=>e&&_($,e.data=n,e),j=()=>{o.current===l.SkinCare?u.push(l.SkinCare):u.push(l.BestMatch)};return a.$$.update=()=>{if(a.$$.dirty&1){e:{if(!e)break e;e.type==="photo"?s(1,c=z):e.type==="webcam"&&e.data?s(1,c=z):s(1,c=D)}}if(a.$$.dirty&1){e:{if(!e)break e;(e.type==="photo"||e.type==="webcam"&&e.data)&&f(e.data)}}},[e,c,o,u,F,j]}class J extends q{constructor(t){super(),B(this,t,H,G,I,{})}}const Z=J;export{Z as default};
//# sourceMappingURL=index.b7bbae11.js.map
